@tailwind base;
@tailwind components;
@tailwind utilities;

* {
    box-sizing: border-box;
}

html, body {
    overflow-x: hidden;
    max-width: 100vw;
    width: 100%;
}

body {
    background-color: #ffffff;
    color: #000000;
    font-family: 'Space Mono', monospace;
    margin: 0;
    padding: 0;
    overflow-x: hidden;
}

/* Prevent horizontal overflow globally */
main, section, article, div {
    max-width: 100%;
}

/* Terminal-style page transitions */
.terminal-enter-active,
.terminal-leave-active {
    transition: opacity 0.2s ease;
}

.terminal-enter-from,
.terminal-leave-to {
    opacity: 0;
}

/* Terminal cursor blink */
@keyframes blink {
    0%, 50% { opacity: 1; }
    51%, 100% { opacity: 0; }
}

.cursor-blink {
    animation: blink 1s infinite;
}

/* Nuxt Content Terminal Styles */
.prose {
    @apply text-foreground font-mono;
    overflow-wrap: break-word;
    word-wrap: break-word;
}

.prose h1 {
    @apply text-2xl font-bold mb-4 text-foreground;
}

.prose h2 {
    @apply text-xl font-bold mb-3 mt-6 text-foreground;
}

.prose h3 {
    @apply text-lg font-bold mb-2 mt-4 text-foreground;
}

.prose p {
    @apply mb-4 text-foreground/90 leading-relaxed;
}

.prose a {
    @apply text-foreground underline hover:text-foreground/80 transition-colors;
}

.prose strong {
    @apply text-foreground font-bold;
}

.prose em {
    @apply text-foreground/80 italic;
}

/* Styles améliorés pour le code avec meilleur contraste */
.prose code {
    @apply bg-muted text-foreground px-1 py-0.5 rounded text-sm font-mono;
    @apply border border-border;
}

.prose pre {
    @apply bg-muted border border-border rounded-lg p-4 my-4 overflow-x-auto;
    @apply shadow-sm;
}

.prose pre code {
    @apply bg-transparent p-0 text-foreground;
    @apply border-0 shadow-none;
}

/* Styles spécifiques pour les blocs de code dans les projets */
.prose.project-content {
    pre {
        @apply bg-[#f8f9fa] border border-border rounded-lg;
    }
    
    code {
        @apply bg-[#f8f9fa] text-foreground border border-border;
    }
    
    pre code {
        @apply text-foreground font-mono text-sm leading-relaxed;
    }
    
    /* Syntax highlighting with better contrast on light gray */
    .token-keyword {
        @apply text-indigo-700 font-bold;
    }
    
    .token-string {
        @apply text-green-700;
    }
    
    .token-number {
        @apply text-orange-600;
    }
    
    .token-comment {
        @apply text-gray-500 italic;
    }
    
    .token-function {
        @apply text-blue-700;
    }

    .token-operator {
        @apply text-gray-700;
    }

    pre {
        @apply relative;
        &::before {
            content: "";
            @apply absolute inset-0 border border-border rounded-lg pointer-events-none;
        }
    }
}

/* Style pour les blocs de code avec titre */
.prose .code-block {
    @apply relative;
    
    .code-header {
        @apply bg-foreground/20 text-foreground/80 px-4 py-2 rounded-t-lg;
        @apply text-sm font-mono border-b border-foreground/40;
    }
    
    pre {
        @apply rounded-t-none rounded-b-lg mt-0;
    }
}

/* Amélioration du contraste pour les lignes de code longues */
.prose pre {
    @apply leading-relaxed;
    code {
        @apply leading-relaxed;
    }
}

/* Style pour les erreurs de syntaxe ou warnings */
.prose .code-error {
    @apply border-l-4 border-red-500 bg-red-900/20;
}

.prose .code-warning {
    @apply border-l-4 border-yellow-500 bg-yellow-900/20;
}

/* Mode haute visibilité pour les projets */
.prose.high-contrast {
    pre {
        @apply bg-white border-black;
        code {
            @apply text-black bg-gray-100;
        }
    }
}

.prose blockquote {
    @apply border-l-4 border-foreground/40 pl-4 my-4 text-foreground/70 italic;
}

.prose blockquote::before {
    content: "$ grep ";
    @apply text-foreground/60;
}

.prose ul {
    @apply list-none my-4 ml-4;
}

.prose li {
    @apply mb-2 text-foreground/90 relative pl-6;
}

.prose li::before {
    content: "-";
    @apply absolute left-0 text-foreground/60;
}

.prose ol {
    @apply list-none my-4 ml-4;
}

.prose ol li {
    @apply mb-2 text-foreground/90 relative pl-6;
}

.prose ol li::before {
    content: counter(list-item) ".";
    @apply absolute left-0 text-foreground/60;
}

.prose hr {
    @apply border-foreground/20 my-8;
}

.prose img {
    @apply rounded border border-foreground/20 my-4;
}

.prose table {
    @apply w-full border-collapse border border-foreground/20 my-4;
}

.prose th {
    @apply border border-foreground/20 px-4 py-2 bg-foreground/10 text-foreground font-bold;
}

.prose td {
    @apply border border-foreground/20 px-4 py-2 text-foreground/90;
}

/* Terminal-style content wrapper */
.content-terminal {
    @apply font-mono;
}

.content-terminal::before {
    content: "$ cat content.md";
    @apply block text-foreground/60 mb-4;
}

/* Command prompt style for different sections */
.prose .command-prompt::before {
    content: "$ ";
    @apply text-foreground/60;
}

.prose .output-prompt::before {
    content: "> ";
    @apply text-foreground/60;
}

.prose .comment {
    @apply text-foreground/50 italic;
}

.prose .comment::before {
    content: "# ";
    @apply text-foreground/40;
}

/* Video player styling for Nuxt Content */
.prose video {
    @apply w-full h-auto rounded border border-foreground/20 my-0;
    max-height: 70vh;
}

/* Custom video player container */
.prose .terminal-video-container {
    @apply my-6;
}

.prose .video-caption {
    @apply text-foreground/60 text-sm mt-2 italic;
}

.prose .video-caption::before {
    content: "# Video: ";
    @apply text-foreground/40;
}

html.lenis, html.lenis body {
  height: auto;
}

.lenis.lenis-smooth {
  scroll-behavior: auto !important;
}

.lenis.lenis-smooth [data-lenis-prevent] {
  overscroll-behavior: contain;
}

.lenis.lenis-stopped {
  overflow: hidden;
}

.lenis.lenis-smooth iframe {
  pointer-events: none;
}
